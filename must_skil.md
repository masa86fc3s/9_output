# 必要なスキル
    
* 詳細設計書の作成経験
* ETLツールでの設計・実装経験
* 課題に関する共有と自己解決力
* Amazon S3、AWS Lambda/Glue、Amazon Timestream、Amazon Athena使った設計・開発経験
* Python、SQLを使った設計・開発経験
* 新しい技術へのキャッチアップ意欲

# 業務内容
　１．Informatica Integration Cloud Service(CDI)(以降、IICS)ツールによる実装
      IICSにて詳細設計書から実装を行う。
      ETLした結果をGoogle Cloud BigQueryあるいはAmazon S3に配置する。

　２．AWS Lambdaによる実装
　　　IICSにて詳細設計書から実装を行う。
　　　SaaSからデータをAPIにて取得、AWSのS3に配置する。

　３．詳細設計書作成（バッチ(ETL)設計）
　　　基本設計から詳細設計書を作成する

　４．運用監視、構築済み機能のパフォーマンス改善
　　　IICSおよびAWS機能に対してのエラー監視及びエラー時の運用対応を行う。
　　　構築済みAWS機能（EC2・EBS等）に対してパフォーマンス等の改善活動を行う。

# これらを踏まえて
* お聞きしたいとこと
    * awsの連携はどの程度できていた方がいいですか
    * docker,linuxはどの程度使用しますか？
    * pythonとSQLのレベル感はどの程度ですか？
    * インフォマティカは触れておいた方が良いですか？（一応airflowは触ったことがあります）
    * 社内の雰囲気はどうですか？
    * 事前にキャッチアップしておいた方が良いことはありますか？
    
## 現状考えている想定
- wsl,ubuntu上でdockerコンテナを立ててそこでawsのサービスを使用していく。
- s3にあるデータをathenaを使ってSQL文で前処理を行い、lamdaで何かしらのトリガーを発生させて自動的に処理を加えて、インフォマティカに出力するようにしほうがいいのかな？
- EC2も使った方が良いですかね？
- 詳細設計書の作成ってどんな感じですか？
---

## 追記

顔合わせの際にお伝えした通り、事前準備は必要ないように弊社側で準備しています。
とは言え…な部分はあると思いますので、参画前に少しでも見ておくとスムーズだろうと考えられるものを三鴨セレクトでいくつか記載いたします。
1) Informatica について
案件説明時にスライドでお伝えしたものです。

弊社技術ブログ DevelopersIO の紹介記事
https://dev.classmethod.jp/articles/informatica-intelligent-cloud-services/
Informatica オンデマンドトレーニング
https://now.informatica.com/IICS-Cloud-Data-Integration-Services-onDemand-Japanese.html?loid=67804d32-b34c-4af0-b22e-46202ba70c87%20-

2) VPC プライベートサブネットにある EC2 インスタンスに Systems Manager Session Manager 経由で SSH アクセス
このやり方で EC2 に接続していただくことになるので、クライアント（業務端末）側のセットアップも含めて一度やっておくといいと思います。
EC2 はプロジェクトでは RHEL を使っていますが、Amazon Linux 2023 のような Linux OS であればなんでもいいと思います。

IAMロールの設定、権限、
ポリシー作成（ssmmのポリシーを設定）、ロールを付与（EC2立ち上げ時の詳細設定の欄）
cloud formation でこの一連の流れを自動化できるのかな

3) IaC
AWS リソースの管理のために IaC で AWS SAM / CloudFormation を利用しています。
どんなことができるのか、どんなコードになるのかを見ておくといいと思います。

以下自動化できるツール
レイヤーが分かれている、
　cloudformation インスタンスの起動まで自動的に（サーバーの立ち上げまでを行う）
iamを指定して、
os,サイズをjsonファイルを一度記載すれば自動的にインスタンスを作成してくれる

 teraform これもインスタンスの起動ができる、これはaws意外にも使用可能
 アンシブル　iacツール　サーバーに対してファイル作成、設定ファイルの作成が可能。ツールのインストール、アパッチのインストール、etc
 (サーバーを立てた後の設定が自動化できるツール)
 cheff 
コードを一度作成すれば自動的にvpcとか、の環境を作成してくれる。
jsonファイルなどで自動的に設定できる

4) DynamoDB
データを持つストレージ（データベース）というよりは設定値を管理するために使っています。
アクセスの方法やデータの持ち方が違うので、触って体験しておくといいと思います。
---


## Systems Manager Session Manager とは？

- AWS Systems Manager の機能のひとつ
- EC2 に エージェント（SSM Agent） をインストールし、IAM ロールで権限を付与すると使える
- ブラウザや AWS CLI から EC2 のシェルに入れる
- 22番ポートを開けなくてもいい → インターネットに晒さずに安全にアクセス可能

## Session Manager 経由で SSHアクセス」とは？

- EC2 に直接 SSH するのではなく、Session Manager が間に入る
- 管理者は AWS マネジメントコンソールや CLI から「セッション開始」するだけで入れる
- ログは CloudWatch Logs や S3 に保存できる（監査証跡になる）

## VPC とは？

- Virtual Private Cloud（仮想プライベートクラウド）
- AWS上に自分専用の「仮想ネットワーク」を作れるサービス

## IaC（Infrastructure as Code）とは？

👉 サーバー・ネットワーク・データベースなどのインフラを、コード（プログラムや設定ファイル）で定義・管理する考え方 のことです。
つまり、
- 「AWSコンソールをポチポチ手作業で設定するのではなく、YAML / JSON / HCL などのコードで書いて、実行すると自動でインフラが構築される」という仕組みです。
 →GUIの操作ではなく、コード管理をすることで全員が同じ環境下で作業ができる環境を作成すればいいの？

---
## 各サービスの説明表

 | 名前                                         | 種類                         | AWS公式サービスか？                 | 説明                                                          |
| ------------------------------------------ | -------------------------- | --------------------------- | ----------------------------------------------------------- |
| **AWS CloudFormation**                     | サービス                       | ✅ 公式サービス                    | AWSリソースをコード（YAML/JSON）で定義・管理できる IaC サービス                    |
| **AWS SAM (Serverless Application Model)** | フレームワーク（CloudFormationの拡張） | ✅ 公式サービス（CloudFormationベース） | サーバーレス（Lambda, API Gateway, DynamoDB 等）の IaC を簡単に書けるフレームワーク |
| **VPC (Virtual Private Cloud)**            | サービス                       | ✅ 公式サービス                    | AWS上に専用の仮想ネットワークを構築できるサービス                                  |
| **サブネット (Subnet)**                         | VPC の構成要素（機能）              | ❌ 単独サービスではない                | VPC 内を分割するネットワーク領域。パブリック／プライベートの2種類がある                      |
| **プライベートサブネット**                            | サブネットの分類                   | ❌ サービスではなく VPC の機能          | インターネットから直接アクセスできないサブネット。DBや内部システム用                         |
| **AWS Systems Manager**                    | サービス                       | ✅ 公式サービス                    | EC2 やオンプレ環境の運用管理を行うサービス。パッチ適用、自動化、設定管理が可能                   |
| **Session Manager**                        | Systems Manager の機能        | ❌ 単独サービスではない                | セキュリティグループで 22 番ポートを開けずに、EC2 に安全にシェル接続できる機能                 |

---

1. これ最初にキャッチアップするならどういう手順？
2. dockerとlinuxも使う場面があるところはあるとお聞きしたのですが、ec2でdockerをつかってこれらの業務を行っていくことはありますか？
もしくはこれらの記載視されている情報からそういう状況になり得ると思いますか？
3. 


インスタンス

vpc→サブネット(ゲートウェイの有無は要確認)
サブネットの中にec2を起動
セキュリティグループにはチェックを入れず、

上記をcloud formationで自動化できるようにしていく
インスタンスの起動時にセッションマネージの権限、設定を交えながら起動できるようにする。

cloud formationのコードをgit hub でバージョン管理できるように
こうすることで差分の変更が楽になる。

git hub actionなどを使用していく。
pushしたらawsのサービスを自動で立ち上げて、差分の変更を行うように設定。

apiキーなどの置き場所に注意
git hubに乗せないように.ignoreの設定を忘れずに、



---

## 鈴木さんからのアドバイス

1. IAMでポリシーの作成を先に行い、
AmazonSSMManagedEC2InstanceDefaultPolicyを選択する
2. EC2のインスタンス作成時に先ほど作成したiamのポリシーを付与する(インスタンスの起動時の一番下にある詳細設定からポリシーの選択が可能)
（* ファイアウォールのセキュリティのところで任意の場所からのSSHトラフィックを許可のところのチェックを外した状態でインスタンスを作成するのが練習になるらしい）
3. Amazon Systems managerのセッション開始
（ここで先ほど作成したインスタンスが表示されていればオッケー）
4. チェックを入れてセッションを開始を押す。
5. これでubuntuっぽい画面に接続できれば完了

ここから先はローカルと接続とか色々拡張できるのかな？
でこの先はcloud formationを使ってここまで作成してきたインスタンスと同じ物を自動的に作成してくれるようにしていく。